# Pipeline Architecture & Workflow Diagram

## ??? Complete Pipeline Architecture

```
????????????????????????????????????????????????????????????????????????????
?                         GITHUB REPOSITORY                                ?
?              https://github.com/Splitzzyy/Splitzy                        ?
????????????????????????????????????????????????????????????????????????????
                         ?
              TRIGGER EVENTS:
              • Push to main/develop
              • PR to main/develop
              • Manual workflow_dispatch
                         ?
                         ?
????????????????????????????????????????????????????????????????????????????
?                    GITHUB ACTIONS WORKFLOW                               ?
?           .github/workflows/dotnet-tests.yml                             ?
????????????????????????????????????????????????????????????????????????????
                         ?
        ???????????????????????????????????
        ?        STAGE 1: PRE-CHECK       ?
        ?    (Prerequisites Validation)   ?
        ??????????????????????????????????
                     ?
        ???????????????????????????
        ?   1. VALIDATION JOB     ?
        ?   (BLOCKING)            ?
        ???????????????????????????
        ? ? Checkout code         ?
        ? ? Setup .NET 8          ?
        ? ? Check structure       ?
        ? ? Restore packages      ?
        ? ? Build solution        ?
        ???????????????????????????
                     ?
          ???????????????????????
          ?                     ?
          ?         FAIL        ?
          ?    (Stop Here)      ?
          ?                     ?
          ?                     ?
        ? Error Log         SUCCESS
                              ?
        ????????????????????????????????????????
        ?                     ?                ?
        ?                     ?                ?
   ??????????????  ????????????????  ????????????????
   ? 2. TESTS   ?  ? 4. CODE      ?  ? 5. SECURITY  ?
   ? (BLOCKING) ?  ? QUALITY      ?  ? (NON-BLOCK)  ?
   ?            ?  ? (NON-BLOCK)  ?  ?              ?
   ??????????????  ????????????????  ????????????????
        ?                 ?                 ?
    STAGE 2          STAGE 4            STAGE 5
   Run Tests    Code Format Check   Security Scan
        ?       Dependency Scan          ?
        ?       Vulnerability Check      ?
        ?                               ?
        ?????????????????????????????????
                       ?        ?
                       ?        ?
                       ?    ???????????????
                       ?    ? 3. ANALYSIS ?
                       ?    ? (INFO ONLY) ?
                       ?    ???????????????
                       ?           ?
                       ?????????????
                               ?
                    ???????????????????????
                    ?  6. SUMMARY & REPORT?
                    ?   (FINAL STAGE)     ?
                    ??????????????????????
                    ? • Aggregate results ?
                    ? • Generate summary  ?
                    ? • Post PR comment   ?
                    ? • Upload artifacts  ?
                    ???????????????????????
                              ?
                    ?????????????????????
                    ?  FINAL DECISION   ?
                    ?????????????????????
                    ? Unit Tests Pass? ?
                    ????????????????????
                              ?    ?
                         YES  ?    ? NO
                              ?    ?
                            ?  ?
                          SUCCESS FAILURE
```

---

## ?? Job Execution Timeline

```
Time ???????????????????????????????????????????????????????
?                                                           ?
0s   ?? JOB 1: VALIDATION (BLOCKING) ??????????????       ?
?    ?                                              ?       ?
30s  ? ?? COMPLETE                                 ?       ?
?    ????????????????????????????????????????????????       ?
?                                                    ?       ?
?    ?? JOB 2: UNIT TESTS (BLOCKING) ???????????????       ?
?    ?                                              ?       ?
60s  ?                                              ?       ?
?    ? ?? Restore (10s)                            ?       ?
?    ? ?? Build (15s)                              ?       ?
?    ? ?? Run Tests (2s) ?? FAST!                  ?       ?
?    ? ?? Upload Results (5s)                      ?       ?
?    ? ?? Parse Results (3s)                       ?       ?
?    ? ?? Validate Count (2s)                      ?       ?
?    ? ?? COMPLETE (37s total)                     ?       ?
?    ????????????????????????????????????????????????       ?
?                                                    ?       ?
?    ?? JOB 3: TEST ANALYSIS ?????????????????????????       ?
?    ? ?? Download artifacts (2s)                   ?       ?
?    ? ?? Generate report (1s)                      ?       ?
?    ? ?? COMPLETE (3s)                            ?       ?
?    ????????????????????????????????????????????????       ?
?                                                    ?       ?
?    ?? JOB 4: CODE QUALITY (parallel) ?????????????       ?
?    ? ?? Install tools (3s)                        ?       ?
?    ? ?? Check format (2s)                         ?       ?
?    ? ?? Scan dependencies (5s)                    ?       ?
?    ? ?? COMPLETE (10s)                           ?       ?
?    ????????????????????????????????????????????????       ?
?                                                    ?       ?
?    ?? JOB 5: SECURITY (parallel) ???????????????????       ?
?    ? ?? Validate references (2s)                  ?       ?
?    ? ?? Scan secrets (3s)                         ?       ?
?    ? ?? COMPLETE (5s)                            ?       ?
?    ????????????????????????????????????????????????       ?
?                                                    ?       ?
?240s ?? JOB 6: SUMMARY & REPORT ?????????????????????       ?
?     ? ?? Aggregate (1s)                           ?       ?
?     ? ?? Generate report (2s)                     ?       ?
?     ? ?? Post comment (2s)                        ?       ?
?     ? ?? COMPLETE (5s)                            ?       ?
?     ??????????????????????????????????????????????       ?
?                                                           ?
?260s ? PIPELINE COMPLETE                                  ?
??????????????????????????????????????????????????????????????

Total Execution Time: ~4-5 minutes
Critical Path: Validation ? Unit Tests ? Summary
Parallel Tasks: Quality Check + Security Check
```

---

## ?? Test Execution Detail

```
UNIT TESTS (JOB 2 - 37 seconds)

????????????????????????????????????????????????????????
? Restore Dependencies (10s)                           ?
????????????????????????????????????????????????????????
? ? NuGet packages                                     ?
? ? Project references                                ?
????????????????????????????????????????????????????????
                        ?
                        ?
????????????????????????????????????????????????????????
? Build Solution (15s)                                 ?
????????????????????????????????????????????????????????
? ? Compile source files                              ?
? ? Link assemblies                                   ?
? ? Generate output (Release config)                  ?
????????????????????????????????????????????????????????
                        ?
                        ?
????????????????????????????????????????????????????????
? Execute Tests (2s) ? LIGHTNING FAST                 ?
????????????????????????????????????????????????????????
? ? AuthControllerTests (6 tests)     ? PASS          ?
? ? UserControllerTests (2 tests)     ? PASS          ?
? ? GroupControllerTests (2 tests)    ? PASS          ?
? ? ExpenseControllerTests (4 tests)  ? PASS          ?
? ? SettleupControllerTests (3 tests) ? PASS          ?
? ? DashboardControllerTests (2 tests)? PASS          ?
?                                                      ?
? TOTAL: 13/13 tests passed                           ?
????????????????????????????????????????????????????????
                        ?
                        ?
????????????????????????????????????????????????????????
? Generate Reports (5s)                                ?
????????????????????????????????????????????????????????
? ? TRX format (test-results.trx)                     ?
? ? JSON format (test-results.json)                   ?
? ? Console output                                    ?
????????????????????????????????????????????????????????
                        ?
                        ?
????????????????????????????????????????????????????????
? Upload Artifacts (5s)                                ?
????????????????????????????????????????????????????????
? ? test-results.trx (30-day retention)               ?
? ? test-results.json (30-day retention)              ?
????????????????????????????????????????????????????????
                        ?
                        ?
????????????????????????????????????????????????????????
? Publish to GitHub (2s)                               ?
????????????????????????????????????????????????????????
? ? Test result checks                                ?
? ? PR comments                                       ?
? ? Status badges                                     ?
????????????????????????????????????????????????????????
```

---

## ?? Validation Decision Tree

```
                    START
                      ?
                      ?
          ?? Repository Structure
          ? ?? Backend path exists?
          ? ?? Test project exists?
          ? ?? Required files present?
          ?          NO
          ?           ?
          ? ??????????????????????
          ? ?  ? FAIL: STOP     ?
          ? ? Show error message ?
          ? ?????????????????????
          ?         YES
          ?          ?
          ?????????????????????????
                                   ?
                      ???????????????????????????
                      ? Build Validation       ?
                      ?????????????????????????
                      ? ? Restore success?    ?
                      ? ? Build success?      ?
                      ? ? No errors?          ?
                      ?         NO            ?
                      ?          ?            ?
                      ? ????????????????????  ?
                      ? ? ? FAIL: STOP   ?  ?
                      ? ?  Show error     ?  ?
                      ? ???????????????????  ?
                      ?        YES           ?
                      ?         ?            ?
                      ????????????????????????
                                ?
                 ???????????????????????????????
                 ?  Unit Tests (13 tests)     ?
                 ????????????????????????????
                 ? AuthControllerTests (6)   ?
                 ? UserControllerTests (2)   ?
                 ? GroupControllerTests (2)  ?
                 ? ExpenseControllerTests (4)?
                 ? SettleupControllerTests(3)?
                 ? DashboardControllerTests(2)?
                 ?                            ?
                 ? Any test failed?           ?
                 ?        NO                 ?
                 ?         ?                 ?
                 ? ?????????????????        ?
                 ? ? ? FAIL: STOP ?        ?
                 ? ? Show details  ?        ?
                 ? ?????????????????        ?
                 ?        YES               ?
                 ?         ?                ?
                 ????????????????????????????
                           ?
        ???????????????????????????????????????
        ?                  ?                  ?
        ?                  ?                  ?
   Code Quality      Security Check     Test Analysis
   (Non-blocking)    (Non-blocking)     (Info only)
        ?                  ?                  ?
        ???????????????????????????????????????
                           ?
                    ???????????????
                    ?   SUMMARY   ?
                    ???????????????
                    ? Aggregate   ?
                    ? Generate    ?
                    ? Report      ?
                    ? Comment     ?
                    ???????????????
                           ?
                    ???????????????????
                    ?  ? SUCCESS    ?
                    ?  All checks    ?
                    ?  passed        ?
                    ??????????????????
```

---

## ?? Status Indicators

```
Legend:
? SUCCESS         - Job passed, pipeline continues
? FAILURE         - Job failed, pipeline stops (blocking only)
??  WARNING         - Non-blocking, informational
?? IN PROGRESS     - Currently running
??  SKIPPED         - Skipped (conditional)
??  PENDING         - Waiting to execute
```

---

## ?? Integration Points

```
???????????????????????????????????????????????????????
?              GITHUB REPOSITORY                      ?
?              (Splitzzyy/Splitzy)                   ?
?????????????????????????????????????????????????????
                   ?
      ???????????????????????????
      ?            ?            ?
      ?            ?            ?
   Commits      Pull Requests  Manual
                              Trigger
      ?            ?            ?
      ???????????????????????????
                   ?
                   ?
        GITHUB ACTIONS RUNNER
        (ubuntu-latest)
                   ?
      ???????????????????????????
      ?            ?            ?
      ?            ?            ?
   Workflow   Test Results  Artifacts
   Execution  Publishing    Storage
      ?            ?            ?
      ???????????????????????????
                   ?
      ???????????????????????????????????
      ?            ?                    ?
      ?            ?                    ?
  GitHub        GitHub              GitHub
  Actions       Checks              Artifacts
  Status        Integration         (30-day)
      ?            ?                    ?
      ???????????????????????????????????
                   ?
                   ?
          PR COMMENTS & BADGES
          (Automatic feedback)
```

---

## ?? Metrics & Performance

```
????????????????????????????????????????????
?         PERFORMANCE METRICS              ?
????????????????????????????????????????????
? Validation Time:        30s              ?
? Build Time:             15s              ?
? Test Execution:          2s ? FAST     ?
? Report Generation:       5s              ?
? Quality Checks:         10s              ?
? Security Scan:           5s              ?
? Summary & Report:        5s              ?
????????????????????????????????????????????
? TOTAL TIME:         ~4-5 minutes         ?
? Critical Path:  Validation ? Tests      ?
????????????????????????????????????????????

????????????????????????????????????????????
?        COVERAGE METRICS                  ?
????????????????????????????????????????????
? Total Tests:            13               ?
? Tests Passing:          13               ?
? Pass Rate:            100%               ?
? Controllers Covered:      6              ?
? Methods Tested:    All major ones        ?
????????????????????????????????????????????
? Code Quality:  VALIDATED ?              ?
? Security:      SCANNED ?                ?
? Artifacts:     UPLOADED ?               ?
????????????????????????????????????????????
```

---

## ?? How to Read the Workflow

```
Entry Point: .github/workflows/dotnet-tests.yml

Structure:
??? on:                    ? TRIGGERS
?   ??? push              (main/develop branch)
?   ??? pull_request      (to main/develop)
?   ??? workflow_dispatch (manual)
?
??? env:                   ? SHARED VARIABLES
?   ??? DOTNET_VERSION
?   ??? BUILD_CONFIGURATION
?   ??? PATH variables
?
??? jobs:                  ? EXECUTION JOBS
    ??? validation        (BLOCKING)
    ??? unit-tests        (BLOCKING)
    ??? test-analysis     (INFO)
    ??? code-quality      (WARNING)
    ??? security          (WARNING)
    ??? summary           (FINAL)

Each job contains:
??? name:                  ? Display name
??? runs-on:              ? Runner platform
??? needs:                ? Job dependencies
??? if:                   ? Conditions
??? steps:                ? Individual actions
    ??? name:             ? Step description
    ??? uses:             ? External action
    ??? run:              ? Shell command
    ??? with:             ? Parameters
```

---

This architecture ensures:
- ? Reliable test execution
- ? Fast feedback (~4-5 min)
- ? Clear status visibility
- ? Non-blocking warnings
- ? Complete documentation
- ? Team collaboration

**Status: PRODUCTION READY** ??
